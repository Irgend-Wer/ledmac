\documentclass[a4paper, oneside, notitlepage, 12pt]{article}
\usepackage{fontspec}
\usepackage{libertineotf}
\usepackage{xunicode}
\usepackage{polyglossia}
\setmainlanguage{french}
\makeatletter
\usepackage{eledmac}
\usepackage[shiftedpstarts]{eledpar}
\numdef{\titi}{1}

\firstlinenum*{1} \linenumincrement*{1}

\begin{document}
%
%\makeatletter
%
\def\@sect#1#2#3#4#5#6[#7]#8{%
  \let\edtext=\dummy@edtext
  \ifnum #2>\c@secnumdepth
    \let\@svsec\@empty
  \else
    \refstepcounter{#1}%
    \protected@edef\@svsec{\@seccntformat{#1}\relax}%
  \fi
  \@tempskipa #5\relax
  \ifdim \@tempskipa>\z@
    \begingroup
      #6{%
        \@hangfrom{\hskip #3 \l@dld@ta \relax\@svsec}%
          \interlinepenalty \@M #8\@@par}%
    \endgroup
    \csname #1mark\endcsname{#7}%
    \addcontentsline{toc}{#1}{%
      \ifnum #2>\c@secnumdepth \else
        \protect\numberline{\csname the#1\endcsname}%
      \fi
      #7}%
  \else
    \def\@svsechd{%
      #6{\hskip #3\relax
      \@svsec #8}%
      \csname #1mark\endcsname{#7}%
      \addcontentsline{toc}{#1}{%
        \ifnum #2>\c@secnumdepth \else
          \protect\numberline{\csname the#1\endcsname}%
        \fi
        #7}}%
  \fi
  \@xsect{#5}}



\newwrite\l@sec@out

\def\lsection#1{%
  #1\numdef{\tmp}{\c@pstart}%
  \immediate\write\l@sec@out{%
    \string\l@section{\unexpanded{#1}{\tmp}}
    }%
  }

\def\l@section#1#2{\global\csdef{l@section@#2}{\section{#1}}}




  
 \renewcommand*{\do@line}{%
  {\vbadness=10000
   \splittopskip=\z@
   \do@linehook
\l@demptyd@ta
   \global\setbox\one@line=\vsplit\raw@text to\baselineskip}%
  \unvbox\one@line \global\setbox\one@line=\lastbox
  \getline@num
  \IfStrEq{\led@pb@setting}{before}{\led@check@pb\led@check@nopb}{}
  \ifnum\@lock>\@ne
    \inserthangingsymboltrue
  \else
    \inserthangingsymbolfalse
  \fi
  \check@pb@in@verse
  \affixline@num
  \affixpstart@num
  \numdef{\tmp}{\c@pstart}%
  \hb@xt@ \linewidth{\do@insidelinehook\l@dld@ta\add@inserts\affixside@note
    \l@dlsn@te
    {\ledllfill\hb@xt@ \wd\one@line{\new@line\inserthangingsymbol \l@dunhbox@line{\one@line}}\ledrlfill\l@drd@ta%
    \l@drsn@te
  }}
  \IfStrEq{\led@pb@setting}{after}{\led@check@pb\led@check@nopb}{}
  }%


\beginnumbering
\immediate\openout\l@sec@out=\jobname.s
\pstart
\lsection{\edtext{lcr}{\Afootnote{B}}}
\pend
\pstart
I use s git to manage some package.
I would like to add a pre-commit hook, to check if I have forgotten
For now, I have a minimal pre-commit, which test only the blank spaces at ends of lines, but not the forgotten.\edtext{lcr}{\Afootnote{C}}
\pend
\pstart
\lsection{b}
\pend
  \immediate\closeout\l@sec@out

\endnumbering





\end{document}
